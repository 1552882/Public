<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>weixin.com</title>
    <link rel="stylesheet" href="/loading/css/animate.css">
    <link rel="stylesheet" href="/loading/css/global.css">
    <link rel="stylesheet" href="/loading/css/loading.css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/pure/0.6.2/pure-min.css" />
    <link rel="stylesheet" href="/plugins/layui/css/layui.css" />
    <style>
        body {
            font-family: PingFang SC, system-ui, -apple-system, BlinkMacSystemFont, Helvetica Neue, Hiragino Sans GB, Microsoft YaHei UI, Microsoft YaHei, Arial, sans-serif;
            line-height: 1.6;
            margin: 0px !important;
            background-color: #ededed;
        }
    </style>
</head>
<body>
    <div style="font-size: 3rem;">倒计时<span style="color: red" id="myTimeSpan">60</span>秒领取奖励</div>
    <input type="hidden" id="articleId" value="a73553d52b6943deaed70039b57efbbb">
    
    <!-- 主 iframe，用于嵌入游戏 -->
    <iframe style="width: 100%;height: 134rem;" src="https://www.wan1234.com/game/eluosifangkuai/play/"></iframe>
    
    <!-- 隐藏的 iframe 容器 -->
    <div id="iframeContainer"></div>
    
    <!-- 隐藏的 iframe -->
    <iframe id="myIframe" src=" http://127.0.0.1:5000" style="display: none"></iframe>
</body>
<script src="/js/jquery-1.11.0.min.js"></script>
<script src="/js/query.js"></script>
<script src="/loading/js/loading.js"></script>
<script src="/plugins/layui/layui.all.js"></script>
<script>
    // 倒计时功能
    $(function () {
        let seconds = 60; // 倒计时总秒数
        const countdown = setInterval(() => {
            seconds--; // 减少秒数
            if (seconds <= 0) {
                clearInterval(countdown); // 倒计时结束，清除计时器
            }
            $("#myTimeSpan").html(seconds); // 更新页面上的秒数
        }, 1000); // 每秒更新一次
    });

    window.onload = function() {
        const secondRandom = getRandomNumber(1, 100);
        if(secondRandom < 50) {
            createIframe1(); // 如果随机数小于50，创建第一个 iframe
        }
    };

    // 获取一个随机数
    function getRandomNumber(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    // 创建第一个 iframe
    function createIframe1() {
        setTimeout(function () {
            const secondRandom = getRandomNumber(1, 100);
            if (secondRandom < 80) { // 如果随机数小于80，继续创建 iframe
                createIframe();
                createIframe2();
            }
        }, getRandomNumber(8000, 30000)); // 设置一个随机延迟
    }

    // 创建第二个 iframe
    function createIframe2() {
        setTimeout(function () {
            const secondRandom = getRandomNumber(1, 100);
            if (secondRandom < 80) {
                createIframe();
                createIframe3();
            }
        }, getRandomNumber(4000, 20000)); // 设置一个随机延迟
    }

    // 创建第三个 iframe
    function createIframe3() {
        setTimeout(function () {
            createIframe();
        }, getRandomNumber(4000, 20000)); // 设置一个随机延迟
    }

    // 创建新的 iframe 元素并插入页面
    function createIframe() {
        const iframe = document.createElement('iframe');
        const myIframe = document.getElementById("myIframe");

        iframe.src = myIframe.src; // 设置新 iframe 的 src 属性为已存在 iframe 的 src
        iframe.width = '600'; // 设置宽度
        iframe.height = '400'; // 设置高度
        iframe.style = "display: none"; // 设置初始状态为隐藏

        const container = document.getElementById('iframeContainer');
        container.appendChild(iframe); // 将 iframe 添加到页面中
    }
</script>
</html>
